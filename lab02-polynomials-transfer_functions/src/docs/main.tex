\documentclass[12pt]{article}
\usepackage[utf8]{inputenc}
\usepackage{amsmath}

\title{ECE 3413 Lab 02\\*Polynomials and Transfer Functions}
\author{Leomar Dur\'an}
\date{$9^{\text{th}}$ February 2023}

\usepackage{siunitx}

\usepackage{titling}
\usepackage{standalone}
\usepackage{pdfpages}
\usepackage{minted}

\usepackage{matlab}
% \newcommand*\matlabtitle\subsection
% \newcommand*\matlabheading\subsubsection
% \newcommand*\mlcell[1]{#1}
% \newenvironment{matlaboutput}{%
    % \minted{matlab}%
% }%
% {%
    % \endminted%
% }%
% \newenvironment{matlabtableoutput}{}{}%

\usepackage{mathtools}%
\DeclarePairedDelimiter\brao()%
\DeclarePairedDelimiter\brac[]%
\DeclarePairedDelimiter\braco[)%
\DeclarePairedDelimiter\Brac\{\}%
\DeclarePairedDelimiter\norm\lVert\rVert%
\DeclarePairedDelimiter\piecefn\{.
\DeclarePairedDelimiter\evalat.|

% save original spacing between paragraphs
\newlength\oldparskip
\setlength\oldparskip\parskip
% save new space between paragraphs
\newlength\newparskip
\setlength\newparskip\baselineskip
% commands for set/reset
\newcommand*\setparskip{\setlength\parskip\newparskip}
\newcommand*\resetparskip{\setlength\parskip\oldparskip}
% apply new space
\setparskip
% no indent
\setlength\parindent{0pt}

\def\hr{{\par\noindent\rule{\textwidth}{0.4pt}}}

\begin{document}

\maketitle
\newpage

\section{Introduction}

The purpose of this experiment is to reinforce and build on the introduction to Matlab from Lab 01.

This lab reviews operations on polynomials and teaches how to work with transfer functions.

In this example,
along with converting between the sum and factored forms of polynomials,
we will also experiment with converting between various forms of the transfer function,
namely ratio of polynomials, zero/pole/gain form and the time-domain form.

\section{Procedure}

\subsection{Parts 1.1, 1.2 -- Roots and polynomial forms}

We revisit the use of the representation of polynomials using row vectors of coefficients from highest to lowest order, 
as well as the use of \mintinline{matlab}{poly} to convert roots to the polynomials with those roots and
\mintinline{matlab}{roots} to convert polynomials to their roots.

\subsection{Part 1.3 -- Ratio of polynomials and zero/pole/gain forms}

We revisit the \mintinline{matlab}{tf} function that creates a transfer function as a ratio of polynomials and formally introduce the \mintinline{matlab}{zpk} mentioned in Lab 01. This latter function creates a transfer function as a vector of zeroes, a vector of poles, and the gain.

\subsubsection{Conversion between transfer function forms}

In addition to creating transfer functions from vectors, 
\mintinline{matlab}{tf} and \mintinline{matlab}{zpk} can be used to convert back and forth between the different forms of transfer functions.

\subsection{Part 1.4 -- Partial fraction expansion}

\subsubsection{Storing transfer functions}

To store transfer functions,
I chose to store them each as a numerator and denominator, storing 2 factors, each potentially as trinomials.
The factors are then multiplied.

I could have used the ZPK model, but this would have required a separate vector for the gains.

Now when a polynomial with $S + 1$ terms is multiplied with a polynomial with $T + 1$ terms, the resulting vector will be of length $S + T + 1$,

Now if we multiply together $2$ polynomials all with $S + 1$ terms,
we will have a product polynomial with $2S + 1$ terms,
and $3$ polynomials this is the same as a polynomial with $2S + 1$ terms and a polynomial of $S + 1$ terms, which
will give $\brao*{2S} + \brao*{S} + 1 = 3S + 1$ terms.
Thus, multiplying $P + 1$ polynomials with $S + 1$ terms will produce a polynomial with $\brao*{P + 1}S + 1$ terms.

Let $Q := P + 1$ and $T = S + 1$, then multiplying $Q$ polynomials all with $T$ terms each will produce a polynomial of $Q\brao*{T - 1} + 1$ terms. Thus, we can store the numerator and denominator of each polynomial in $2\brao*{3 - 1} + 1 = 5$ terms.

\subsubsection{Partial fraction decomposition in Matlab}

Matlab provides the \mintinline{matlab}{residue} function which returns a vector of 

\section{Results}

\hr
\resetparskip
\input{part01_poles_zeros_mlx.tex}
\setparskip

\ \hr \\*
\resetparskip
\input{part01_poles_zeros_mlx.tex}
\setparskip

\ \hr \\*

\section{Discussion}

This experiment was straightforward in its procedure.
We learned about how Matlab handles multiplication of polynomials,
and we also experienced a transfer function responding to a signal in a simulated system.

This experiment introduced the idea of stable and unstable transfer functions.
A stable transfer function can be used to attenuate a signal before it gets too far out of bounds.
However, an unstable function may not help with this.

Engineers may have more precise formulas to help choose the correct poles and zeros and properly design a transfer function.


\newpage
\appendix
\title{Appendix}\label{doc:apx}
\addcontentsline{toc}{section}{APPENDICES}
\maketitle

\section{Part 1 -- Poles and zeroes, Matlab Live Script}

\includepdf[pages={-}]{part01_poles_zeros_mlx.pdf}

\section{Part 2 -- Laplace transforms, Matlab Live Script}

\includepdf[pages={-}]{part02_laplace_transforms_mlx.pdf}

\end{document}
